[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Andre Dextre",
    "section": "",
    "text": "I graduated from UC Santa Barbara with a Bachelor’s Degree in Environmental Studies with a concentration in Water Resource Management. While at UCSB, I was introduced to data collection, manipulation and visualization utilizing USGS data to communicate water management issues. Throughout this time, I interned at the Jasechko Lab, at UCSB, as a research assistant collecting and processing surface and groundwater samples at the Jack and Laura Dangermond Reserve. I conducted weekly to daily field hydrology work including collecting samples from deep groundwater wells and processing them for isotopic analysis. Having grown up in Lima, Peru in a community that experienced lack of access to clean water, it has become my goal to improve resource infrastructure to provide clean water to communities that have been marginalized and underserved. As a Master of Environmental Data Science (MEDS) student at the UCSB Bren School of Environmental Science and Management, I aim to enhance my data analytic skills to revolutionize water resource management by providing data-driven solutions."
  },
  {
    "objectID": "my_blogs.html",
    "href": "my_blogs.html",
    "title": "My Blogs",
    "section": "",
    "text": "MEDS\n\n\nR\n\n\n\nStatistical analysis on how snow and precipitation levels effect reservoir storage and groundwater levels and comparing them to groundwater withdrawals by demand sector in…\n\n\n\nAndre Dextre\n\n\nDec 9, 2022\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMEDS\n\n\ntest\n\n\nR\n\n\n\nLearn how to make a blog post using RStudio\n\n\n\nAndre Dextre\n\n\nOct 24, 2022\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/2022-10-24-class-example/index.html",
    "href": "posts/2022-10-24-class-example/index.html",
    "title": "Dre’s First Blog",
    "section": "",
    "text": "Here’s some more text\nSam Csik Blog: (Csik 2022)\n\n\nAirbnb failed to disrupt the hotel industry.\n\n— Unobtainium Daydreams ((ShimminyKricket?)) October 24, 2022\n\n\n\n\n\n\nReferences\n\nCsik, Samantha. 2022. “Adding a Blog to Your Existing Quarto Website.” October 24, 2022. https://samanthacsik.github.io/posts/2022-10-24-quarto-blogs/.\n\nCitationBibTeX citation:@online{dextre2022,\n  author = {Andre Dextre},\n  title = {Dre’s {First} {Blog}},\n  date = {2022-10-24},\n  url = {https://andredextre.github.io/posts/2022-10-24-class-example},\n  langid = {en}\n}\nFor attribution, please cite this work as:\nAndre Dextre. 2022. “Dre’s First Blog.” October 24, 2022.\nhttps://andredextre.github.io/posts/2022-10-24-class-example."
  },
  {
    "objectID": "posts/groundwater_data/index.html",
    "href": "posts/groundwater_data/index.html",
    "title": "Where is California’s Groundwater Going?",
    "section": "",
    "text": "Due to climate change, the state of California is more susceptible to longer periods of drought, ultimately affecting the states overall water supply.1 Aside from surface water, California heavily depends on its reservoir storage and groundwater supply to provide water to its ~40 million residents. Due to prolong drought, average snow and rainfall is not highly reliable every year. Since 2000, California has experience two in 2007-2009 and with the longest drought period being from 2011-2017. In this statistical analysis, we will examine how precipitation (snow and rainfall) are affecting reservoir storage and groundwater levels from 1999-2019."
  },
  {
    "objectID": "posts/groundwater_data/index.html#data",
    "href": "posts/groundwater_data/index.html#data",
    "title": "Where is California’s Groundwater Going?",
    "section": "Data",
    "text": "Data\n\nSnow/Rainfall Data\nFor this statistical analysis, I’ve obtained “Water Year” data from UC Berkeley’s Central Sierra Snow-lab2. This data set contains snow and rainfall data for water years 1971-2019 in a CSV format.\n\n\nView Code\n#Read in water year data\n\n#Read in the Water Year  2000 Data\nwy_2000 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2000.csv\" ), na = c(\"T\", \"NA\", \"--\")) %>% \n  clean_names() %>% \n  replace(is.na(.), 0) %>%\n  select(!remarks)\n#Read in the Water Year  2001 Data\nwy_2001 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2001.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  transform(new_snow_cm = as.numeric(new_snow_cm)) %>%\n  replace(is.na(.), 0) %>%\n  select(!remarks)\n#Read in the Water Year  2002 Data\nwy_2002 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2002.csv\"), na = c(\"T\", \"NA\", \"--\"))%>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2003 Data\nwy_2003 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2003.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0)\n#Read in the Water Year  2004 Data\nwy_2004 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2004.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2005 Data\nwy_2005 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2005.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0)\n#Read in the Water Year  2006 Data\nwy_2006 <- read_csv(here(datadir,\"water_year_data\", \"Whole_WY_2006.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2007 Data\nwy_2007 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2007.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2008 Data\nwy_2008 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2008.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0)\n#Read in the Water Year  2009 Data\nwy_2009 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2009.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2010 Data\nwy_2010 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2010.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2011 Data\nwy_2011 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2011.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2012 Data\nwy_2012 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2012.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2013 Data\nwy_2013 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2013.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2014 Data\nwy_2014 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2014.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2015 Data\nwy_2015 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2015.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2016 Data\nwy_2016 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2016.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0)\n#Read in the Water Year  2017 Data\nwy_2017 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2017.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0)\n#Read in the Water Year  2018 Data\nwy_2018 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2018.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names() %>%\n  select(!remarks) %>%\n  replace(is.na(.), 0) \n#Read in the Water Year  2019 Data\nwy_2019 <- read_csv(here(datadir, \"water_year_data\", \"Whole_WY_2019.csv\"), na = c(\"T\", \"NA\", \"--\")) %>%\n  clean_names()%>%\n  select(!remarks) %>%\n  replace(is.na(.), 0)"
  },
  {
    "objectID": "posts/groundwater_data/index.html#reservoir-data",
    "href": "posts/groundwater_data/index.html#reservoir-data",
    "title": "Where is California’s Groundwater Going?",
    "section": "Reservoir Data",
    "text": "Reservoir Data\nAdditionally, for this analysis, I’ve obtained reservoir elevation and storage data from CA Department of Natural Resources & CA Department of Water Resources3. This data set provides daily reservoir elevation and storage data from 1981-2022. One limitation to this data set is that it only provide data on reservoirs part of the State Water Project, therefore my focus will be based on the San Luis Reservoir near Los Banos, California.\n\n\nView Code\n#Read in reservoir data\nreservoir_data <- read_csv(here(datadir, \"reservoir_data\", \"reservoir_data.csv\"), na = c(\"NA\")) %>%\n  mutate(date = lubridate::mdy(date)) %>%\n  mutate(year = floor_date(date, \"year\"),\n         year = lubridate::year(year)) %>%\n  select(year, field_division, reservoir, elevation, storage) %>%\n  replace(is.na(.), 0) %>% \n  filter(reservoir == \"San Luis\")"
  },
  {
    "objectID": "posts/groundwater_data/index.html#groundwater-measurement-data",
    "href": "posts/groundwater_data/index.html#groundwater-measurement-data",
    "title": "Where is California’s Groundwater Going?",
    "section": "Groundwater Measurement Data",
    "text": "Groundwater Measurement Data\nMoreover, for this analysis, I’ve obtained groundwater measurement data from CA Department of Natural Resources & CA Department of Water Resources4. This data set contains historical daily groundwater measurements for aquifers throughout all of California.\n\n\nView Code\n#Read in groundwater measurement and stations data\ngw_measurements <- read_csv(here(datadir, \"gw_measurements\", \"measurements.csv\")) \n\nstations <- read_csv(here(datadir, \"gw_measurements\", \"stations.csv\")) %>%\n  select(site_code, county_name)\n\ngw_levels <- right_join(gw_measurements, stations, by = \"site_code\") %>%\n  mutate(gw_elevation = gwe,\n         msmt_date = format(as.POSIXct(msmt_date,\n                                      format='%Y/%m/%d %H:%M:%S'),\n                                      format='%Y/%m/%d')) %>% #dropping time from date data\n  mutate(date = ymd(msmt_date),   \n         year = lubridate::year(date))"
  },
  {
    "objectID": "posts/groundwater_data/index.html#water-use-data",
    "href": "posts/groundwater_data/index.html#water-use-data",
    "title": "Where is California’s Groundwater Going?",
    "section": "Water Use Data",
    "text": "Water Use Data\nFinally, I’ve obtained water use data collected by the U.S Geological Survey (USGS)5. This data set contains water withdrawal data by different demand sectors for years 1950-2015.\n\n\nView Code\n#Read in water use data 2000 - 2015\n#Read 2000 data, clean names, turn to numeric, filter NA in state,\n#and replace NA with 0\nd_wu_2000 <- read_xls(here(datadir, \"water_use\", \"us2000.xls\")) %>% \n  clean_names() %>% \n  filter(state != \"NA\") %>%\n  mutate(across(c(2:70), as.numeric)) %>%\n  replace(is.na(.), 0)\n#Read 2005 data, clean names, turn to numeric, filter NA in state,\n#and replace NA with 0\nd_wu_2005 <- read_xls(here(datadir,\"water_use\", \"us2005.xls\")) %>%\n  clean_names() %>%\n  filter(state != \"NA\") %>%\n  mutate(across(c(2:4), as.numeric)) %>%\n  mutate(across(c(6:108), as.numeric)) %>%\n  replace(is.na(.), 0)\n#Read 2010 data, clean names, turn to numeric, filter NA in state,\n#and replace NA with 0\nd_wu_2010 <- read_xlsx(here(datadir, \"water_use\", \"us2010.xlsx\")) %>%\n  clean_names() %>%\n  filter(state != \"NA\") %>%\n  mutate_at((2), as.numeric) %>%\n  mutate(across(c(4:117), as.numeric)) %>%\n  replace(is.na(.), 0)\n#Read 2015 data, clean names, turn to numeric, filter NA in state,\n#and replace NA with 0\nd_wu_2015 <- read_xlsx(here(datadir, \"water_use\", \"us2015.xlsx\"), skip = 1) %>%\n  clean_names() %>%\n  filter(state != \"NA\") %>%\n  mutate_at((2), as.numeric) %>%\n  mutate(across(c(4:141), as.numeric)) %>%\n  replace(is.na(.), 0)"
  },
  {
    "objectID": "posts/groundwater_data/index.html#data-scatter-plot",
    "href": "posts/groundwater_data/index.html#data-scatter-plot",
    "title": "Where is California’s Groundwater Going?",
    "section": "Data Scatter Plot",
    "text": "Data Scatter Plot\nTo start off my analysis, I’ve combined all my water year data from multiple years into one single dataframe after I filter out years not needed for this analysis, since the focus is from the 1999-2019 time period. Afterwards, I found the monthly and yearly average for each month/year in the dataframe. Next, I combined my water year data with the reservoir data (filtered out for the San Luis Reservoir from 1999-2019). Lastly, I created a scatter plot to check for any correlation between San Luis Reservoir storage (Acre-feet) and average seasonal snowfall/rainfall (cm).\nAs expected, there is a correlation between San Luis reservoir storage with average seasonal snowfall/rainfall.\n\n\nView Code\n#Wrangle water year data\n#Merge water year 2000-2003 data into one\nwy_2000_2003 <- list(wy_2000, wy_2001, wy_2002, wy_2003) %>%  \n  reduce(full_join)\n#Merge water year 2004-2019 data into one\nwy_2004_2019 <- list(wy_2004, wy_2005, wy_2006, wy_2007,\n                     wy_2008, wy_2009, wy_2010, wy_2011,\n                     wy_2012, wy_2013, wy_2014, wy_2015,\n                     wy_2016, wy_2017,wy_2018, wy_2019) %>%\n  reduce(full_join) %>%\n  mutate(date = lubridate::mdy(date))\n#Join both merged data frames together\nwater_year <- full_join(wy_2000_2003, wy_2004_2019) %>%\n  rename(total_precip_mm = x24_hour_total_precip_mm,\n        date = date) %>%\n  mutate(avg_temp_c = (air_temp_max_c + air_temp_min_c)/2,\n         total_precip_cm = total_precip_mm/10)\n#Monthly average\nwy_monthly_avg <- water_year %>%\n  mutate(date = floor_date(water_year$date, \"month\")) %>%\n  select(date,\n         avg_temp_c,\n         new_snow_cm, \n         snowpack_depth_cm,\n         season_total_snow_cm,\n         snow_water_equivalent_cm, \n         percent_of_precip_as_snow,\n         total_precip_cm, \n         season_total_precip_mm,\n         percent_of_precip_as_rain) %>%\n   group_by(date) %>%\n  summarise(date = mean(date),\n            avg_temp_c = round(mean(avg_temp_c), 2),\n            new_snow_cm = round(mean(new_snow_cm), 2),\n            snowpack_depth_cm = round(mean(snowpack_depth_cm), 2),\n            season_total_snow_cm = round(mean(season_total_snow_cm), 2),\n            snow_water_equivalent_cm = round(mean(snow_water_equivalent_cm), 2),\n            percent_of_precip_as_snow = round(mean(percent_of_precip_as_snow), 2),\n            total_rain_cm = round(sum((total_precip_cm), 2)),\n            season_total_precip_mm = round(mean(season_total_precip_mm), 2),\n            percent_of_precip_as_rain = round(mean(percent_of_precip_as_rain), 2))\n\nwy_monthly_total <-  water_year %>%\n  mutate(date = floor_date(water_year$date, \"month\")) %>%\n  select(date,\n         avg_temp_c,\n         new_snow_cm, \n         snowpack_depth_cm,\n         season_total_snow_cm,\n         snow_water_equivalent_cm, \n         percent_of_precip_as_snow,\n         total_precip_cm, \n         season_total_precip_mm,\n         percent_of_precip_as_rain) %>%\n   group_by(date) %>%\n  summarise(date = mean(date),\n            avg_temp_c = round(mean(avg_temp_c), 2),\n            new_snow_cm = round(sum(new_snow_cm), 2),\n            snowpack_depth_cm = round(sum(snowpack_depth_cm), 2),\n            season_total_snow_cm = round(sum(season_total_snow_cm), 2),\n            snow_water_equivalent_cm = round(sum(snow_water_equivalent_cm), 2),\n            percent_of_precip_as_snow = round(mean(percent_of_precip_as_snow), 2),\n            total_rain_cm = round(sum((total_precip_cm), 2)),\n            season_total_precip_mm = round(mean(season_total_precip_mm), 2),\n            percent_of_precip_as_rain = round(mean(percent_of_precip_as_rain), 2))\n#Find cumulative precipitation and snow levels for each year\nwy_year_cumulative <- water_year %>%\n  mutate(year = floor_date(water_year$date, \"year\"),\n         year = lubridate::year(year)) %>%\n  group_by(year) %>%\n  select(year, \n         new_snow_cm, \n         season_total_snow_cm,\n         season_total_precip_mm,\n         snowpack_depth_cm,\n         total_precip_cm,\n         snow_water_equivalent_cm) %>%\n  summarise(year = mean(year),\n            new_snow_cm = round(sum(new_snow_cm), 2),\n            season_total_snow_cm = round(sum(season_total_snow_cm), 2),\n            season_total_precip_cm = round(sum((season_total_precip_mm/10), 2)),\n            snowpack_depth_cm = round(sum(snowpack_depth_cm), 2),\n            total_rain_cm = round(sum(total_precip_cm), 2),\n            snow_water_equivalent_cm = round(sum(snow_water_equivalent_cm), 2),\n            total_precipitation_cm = (season_total_precip_cm + season_total_snow_cm))\n\nwater_year_avg <- water_year %>%\n  mutate(year = floor_date(water_year$date, \"year\"),\n         year = lubridate::year(year)) %>%\n  group_by(year) %>%\n  select(year, \n         new_snow_cm, \n         season_total_snow_cm,\n         season_total_precip_mm,\n         snowpack_depth_cm,\n         total_precip_cm,\n         snow_water_equivalent_cm) %>%\n  summarise(year = mean(year),\n            new_snow_cm = round(mean(new_snow_cm), 2),\n            season_total_snow_cm = round(sum(season_total_snow_cm), 2),\n            snowpack_depth_cm = mean(sum(snowpack_depth_cm), 2),\n            season_total_precip_cm = round(sum(total_precip_cm), 2),\n            snow_water_equivalent_cm = round(sum(snow_water_equivalent_cm), 2),\n            total_precip = (total_precip_cm + snow_water_equivalent_cm))\n\n\n\n\nView Code\n#wrangle reservoir data\nreservoir_avg <- reservoir_data %>%\n  group_by(year) %>%\n  summarise(elevation = round(mean(elevation, na.rm = TRUE), 2),\n            storage = round(mean(storage, na.rm = TRUE), 2),\n            ) %>% \n  filter(!year < 1999 & !year > 2019 )\n\n\n\n\nView Code\n##Merge water year average with reservoir level average\nwy_reservoir <- full_join(wy_year_cumulative, reservoir_avg) %>%\n  filter(!year >= 2020)\n\n\n\n\nView Code\nsnowpack_storage <- ggplot(data = wy_reservoir,\n       aes(x = season_total_snow_cm,\n           y = storage)) +\n  geom_point() +\n  geom_smooth(method = \"lm\",\n              formula = y~x,\n              se = TRUE,\n              size = 2,\n              col = \"cadetblue4\") +\n  labs(x = \"Average Seasonal Snowfall (cm)\",\n       y = \"San Luis Reservoir Level (AF)\") +\n  theme_classic()\n\nrainfall_storage <- ggplot(data = wy_reservoir,\n       aes(x = season_total_precip_cm,\n           y = storage)) +\n  geom_point() +\n  geom_smooth(method = \"lm\",\n              formula = y~x,\n              se = TRUE,\n              size = 2,\n              col = \"cadetblue4\") +\n  labs(x = \"Average Seasonal Rainfall (cm)\",\n       y = \"San Luis Reservoir Level (AF)\") +\n  theme_classic()\n\ngridExtra::grid.arrange(snowpack_storage, rainfall_storage)"
  },
  {
    "objectID": "posts/groundwater_data/index.html#analysis-plan",
    "href": "posts/groundwater_data/index.html#analysis-plan",
    "title": "Where is California’s Groundwater Going?",
    "section": "Analysis Plan",
    "text": "Analysis Plan\nTo further dig deep into this analysis, I plan to run the following statistical test:\n\nTime Series - This will help us observed how San Luis Reservoir storage levels, total precipitation (snow + rainfall) levels, and groundwater elevation have changed over time.\nLinear Regression - With a single liner regression, we can determine how total precipitation levels influence reservoir levels or overall groundwater levels in California. Then we will check for P-value to determine if it is statistically significant. Additionally, we will check for R^2 value to see how much total precipitation influences storage levels and groundwater levels."
  },
  {
    "objectID": "posts/groundwater_data/index.html#results",
    "href": "posts/groundwater_data/index.html#results",
    "title": "Where is California’s Groundwater Going?",
    "section": "Results",
    "text": "Results\n\nTime Series\nFor this time series, I first had to find the average annual groundwater elevation for each year in our observation. Next, I merged average annual groundwater elevation to our water year and reservoir data to plot for this time series.\nThe following time series shows a positive relationship between total precipitation (snow + rainfall) with storage levels in the San Luis Reservoir, which is expected. However, this time series shows that inverse relation between ground water elevation between total precipitation and storage levels from 2000-2019, which needs further investigation.\n\n\nView Code\n#Wranggling groundwater elevation data\n\n#Average monthly ground water levels\ngw_levels_monthly <- gw_levels %>%\n  mutate(date = floor_date(gw_levels$date, \"month\")) %>%\n  select(date, year, gw_elevation) %>%\n  filter(!year <= 1998 & !year > 2019) %>%\n  group_by(date) %>%\n  summarise(date = mean(date),\n            avg_gw_elevation = round(mean(gw_elevation, na.rm = TRUE), 2))\n\ngw_levels_monthly <- gw_levels_monthly[-c(1, 2, 3, 4, 5, 6, 7, 8, 9, 250, 251, 252), ]\n#Annual average gw levels\ngw_levels_year <- gw_levels %>%\n  mutate(date = floor_date(gw_levels$date, \"year\"), \n         date = lubridate::year(date)) %>%\n  select(date, year, gw_elevation) %>%\n  filter(!year < 1999 & !year > 2019) %>%\n  group_by(date) %>%\n  summarise(year = mean(date),\n            avg_gw_elevation = round(mean(gw_elevation, na.rm = TRUE), 2))\n\n\n\n\nView Code\n#Merge groundwater data with wy_reservoir data\nwy_reservoir <- left_join(wy_reservoir, gw_levels_year, by = \"year\") %>%\n  select(!year)\n#Merge\nmerged_wy_gw <- left_join(wy_monthly_total, gw_levels_monthly, by = \"date\") %>% \n  mutate(total_precip_cm = snow_water_equivalent_cm + total_rain_cm) \n\nwater_year_gw <- merged_wy_gw %>%\n  select(date, new_snow_cm, snowpack_depth_cm, total_rain_cm, avg_gw_elevation, total_precip_cm)\n\n\n\n\nView Code\n#Plot time series \nreservoir_ts <- reservoir_avg %>%\n  select(!year)\n\nwy_reservoir_ts <- wy_reservoir %>%\n  mutate(total_snow = season_total_snow_cm,\n         total_rainfall = season_total_precip_cm,\n         total_precip = total_snow + total_rainfall,\n         gw_elevation = avg_gw_elevation,\n         storage = storage) %>%\n  select(total_precip, storage, gw_elevation)\n\nplot(ts(data = wy_reservoir_ts, start = 1999, end = 2019),\n      main = \"Hydrological Time Series\") +\n  theme_classic()\n\n\n\n\n\nNULL"
  },
  {
    "objectID": "posts/groundwater_data/index.html#single-linear-regression",
    "href": "posts/groundwater_data/index.html#single-linear-regression",
    "title": "Where is California’s Groundwater Going?",
    "section": "Single Linear Regression",
    "text": "Single Linear Regression\nFor the linear regression, I decided to focus on groundwater elevation and total precipitation. To run the following linear model, I use the lm() function in R to run the following regression.\n\n\nView Code\nlin_mod <- lm(gw_elevation ~ total_precip, data = wy_reservoir_ts)\n\ntab_model(lin_mod)\n\n\n\n\n\n \ngw elevation\n\n\nPredictors\nEstimates\nCI\np\n\n\n(Intercept)\n922.27\n541.41 – 1303.13\n<0.001\n\n\ntotal precip\n-0.00\n-0.00 – 0.00\n0.736\n\n\nObservations\n21\n\n\nR2 / R2 adjusted\n0.006 / -0.046\n\n\n\n\n\n\nView Code\nsummary(lm(gw_elevation ~ total_precip, data = wy_reservoir_ts)) %>%\n  tidy() \n\n\n# A tibble: 2 × 5\n  term           estimate  std.error statistic   p.value\n  <chr>             <dbl>      <dbl>     <dbl>     <dbl>\n1 (Intercept)  922.       182.           5.07  0.0000683\n2 total_precip  -0.000230   0.000672    -0.343 0.736    \n\n\nLimitation Note: total_precip estimate is -0.000230, not shown in table produce by R.\nInterpretation: When total precipitation is 0, then total groundwater elevation is estimated to be 922.27 ft . For every additional centimeter of precipitation, there is a decrease of 0.000239 ft in groundwater elevation. Additionally, P-value for total precipitation tell us that the results are not statistically significant and R^2 coefficient tell us that total precipitation does not influence groundwater elevation.\nWe need to take a further look!"
  },
  {
    "objectID": "posts/groundwater_data/index.html#further-analysis",
    "href": "posts/groundwater_data/index.html#further-analysis",
    "title": "Where is California’s Groundwater Going?",
    "section": "Further Analysis",
    "text": "Further Analysis\nGiven the results from the liner regression, I decided to take a further look into what is causing groundwater elevation to decrease when there is snow and rainfall.\nFor a further analysis, I decided to take a look at total groundwater withdrawals utilizing the data obtained from the U.S Geological Survey.\n\n\nView Code\n#Wrangle CA water use data\n#Assign d_wu_year to wu_year\n#Create new columns (State, Public Supply, Irrigation, Rural, Industrial, Thermoelectric, and Year)\n#Pivot longer to create \"Sectors\" and \"Withdrawals\" column\nwu_2000 <- d_wu_2000 %>%\n  mutate(State = statefips,\n         \"Public Supply\" = ps_wgw_fr, \n          Irrigation = it_wgw_fr,\n          Rural = do_wgw_fr + ls_wgw_fr,\n          Industrial = in_wgw_fr + mi_wgw_fr,\n          Thermoelectric = pt_wgw_fr,\n          Year = 2000) %>%\n  select(State, \"Public Supply\", Irrigation, Rural, Industrial, Thermoelectric, Year) %>%\n  group_by(State) %>%\n  summarize(across(1:5, sum)) %>%\n  mutate(Year = 2000) %>%\n  pivot_longer(2:6, names_to = \"Sectors\", values_to = \"Withdrawals\")\n#2005\nwu_2005 <- d_wu_2005 %>%\n  mutate(State = statefips,\n         \"Public Supply\" = ps_wgw_fr,\n         Irrigation = ir_wgw_fr,\n         Rural = do_wgw_fr + ls_wgw_fr,\n         Industrial = in_wgw_fr + mi_wgw_fr,\n         Thermoelectric = pt_wgw_fr,\n         Year = 2005) %>%\n  select(State, \"Public Supply\", Irrigation, Rural, Industrial, Thermoelectric, Year) %>%\n  group_by(State) %>%\n  summarize(across(1:5, sum)) %>%\n  mutate(Year = 2005) %>%\n  pivot_longer(2:6, names_to = \"Sectors\", values_to = \"Withdrawals\")\n#2010\nwu_2010 <- d_wu_2010 %>%\n  mutate(State = statefips,\n        \"Public Supply\" = ps_wgw_fr,\n        Irrigation = ir_wgw_fr,\n        Rural = do_wgw_fr + li_wgw_fr,\n        Industrial = in_wgw_fr + mi_wgw_fr,\n        Thermoelectric = pt_wgw_fr,\n        Year = 2010) %>%\n  select(State, \"Public Supply\", Irrigation, Rural, Industrial, Thermoelectric, Year) %>%\n  group_by(State) %>%\n  summarise(across(1:5, sum)) %>%\n  mutate(Year = 2010) %>%\n  pivot_longer(2:6, names_to = \"Sectors\", values_to = \"Withdrawals\")\n#2015\nwu_2015 <- d_wu_2015 %>%\n  mutate(State = statefips,\n        \"Public Supply\" = ps_wgw_fr,\n        Irrigation = ir_wgw_fr,\n        Rural = do_wgw_fr + li_wgw_fr,\n        Industrial = in_wgw_fr + mi_wgw_fr,\n        Thermoelectric = pt_wgw_fr,\n        Year = 2015) %>%\n  select(State, \"Public Supply\", Irrigation, Rural, Industrial, Thermoelectric, Year) %>%\n  group_by(State) %>%\n  summarise(across(1:5, sum)) %>%\n  mutate(Year = 2015) %>%\n  pivot_longer(2:6, names_to = \"Sectors\", values_to = \"Withdrawals\")\n\n\n\n\nView Code\n#Combine \n#Remove unnecessary FIPS\nwu_all <- rbind(wu_2000, wu_2005, wu_2010, wu_2015) %>%\n  filter(State != \"78\",\n         State != \"72\",\n         State != \"69\",\n         State != \"66\",\n         State != \"60\",\n         State != \"0\",\n         State != \"11\")\n#Create new object for sector water use for California\nca_water_use <- wu_all %>%\n                 replace(is.na(.), 0) %>%\n                 filter(State == 6)\n\n#Create a new object for total freshwater withdrawals for California\nca_wu_all <- ca_water_use %>%\n  select(-Sectors) %>%\n  replace(is.na(.), 0) %>%\n  group_by(Year) %>%\n  summarise(across(Withdrawals, sum))\n\n\n\n\nView Code\n#Plot CA total groundwater withdrawals\nggplot() +\n  geom_line(data = ca_wu_all, aes(x = Year, y = Withdrawals),\n            color = \"black\", size = 1) +\n#We need a point plot to help emphasize the data points for total withdrawals for each year\n  geom_point(data = ca_wu_all, aes(x = Year, y = Withdrawals),\n            color = \"black\", size = 2, fill = \"black\") +\n\n  scale_x_continuous(breaks = scales::pretty_breaks(n = 5),\n                     limits = c(1999, 2017),\n                    expand = c(0,0)) +\n  scale_y_continuous(breaks = scales::pretty_breaks(n = 10),\n                    limits = c(0, 20000),\n                    label = label_comma(),\n                    expand = c(0,0)) +\n  labs(x = \"Year\",\n       y = \"Total GW Withdrawals (Mgal/day)\",\n       caption = \"Figure 1: GroundWater Withdrawals in CA 2000-2015.\",\n       fill = \"\") +\n  theme_classic() +\n  theme(axis.text = element_text(color = \"black\", size = 8),\n        axis.text.y = element_text(color = \"black\", size = 8),\n        axis.text.x = element_text(color = \"black\", size = 8),\n        axis.title.y = element_text(color = \"black\", size = 10),\n        axis.title.x = element_text(color = \"black\", size = 10),\n        legend.position = \"top\",\n        plot.caption = element_text(hjust = 0, face = \"bold\", size = 10))\n\n\n\n\n\n\n\nView Code\n#Plot time series \nreservoir_ts <- reservoir_avg %>%\n  select(!year)\n\nwy_reservoir_ts <- wy_reservoir %>%\n  mutate(total_snow = season_total_snow_cm,\n         total_rainfall = season_total_precip_cm,\n         total_precip = total_snow + total_rainfall,\n         gw_elevation = avg_gw_elevation,\n         storage = storage) %>%\n  select(total_precip, storage, gw_elevation)\n\nplot(ts(data = wy_reservoir_ts, start = 1999, end = 2019),\n      main = \"Hydrological Time Series\") +\n  theme_classic()\n\n\n\n\n\nNULL\n\n\nGiven the the plot of total groundwater withdrawals in California compared to out time series. It looks like there might be a connection between decreasing groundwater levels and increasing groundwater withdrawals, which makes sense since California highly depends on it groundwater supply for water.\nBut now, my question is who is pumping all this groundwater?\nTo take a further look, I sorted out groundwater withdrawals with demand sectors to plot it.\n\n\nView Code\n##Create a plot for total withdrawals for each water use sector in California\nggplot() +\n#The columns for sectors seem to be stack onto top of one another for each year\n  geom_col(data = ca_water_use, aes(x = Year, y = Withdrawals,\n           fill = reorder(Sectors, Withdrawals)),\n#To put the columns side by side, we use the position_doge and width argument\n           width = 4, position = position_dodge(3.5)) +\n           scale_fill_manual(values = c(\"darkturquoise\", \"orange2\", \"red3\", \"dodgerblue3\", \"green4\")) +\n#We need a line a line plot to illustrate \"Total Freshwater Withdrawals in California from 2000-2015\"\n  geom_line(data = ca_wu_all, aes(x = Year, y = Withdrawals),\n            color = \"darkgray\", size = 1) +\n#We need a point plot to help emphasize the data points for total withdrawals for each year\n  geom_point(data = ca_wu_all, aes(x = Year, y = Withdrawals),\n            color = \"darkgrey\", size = 2, fill = \"darkgrey\") +\n  \n  scale_x_continuous(breaks = scales::pretty_breaks(n = 14),\n                     limits = c(1999, 2017),\n                    expand = c(0,0)) +\n  scale_y_continuous(breaks = scales::pretty_breaks(n = 10),\n                    limits = c(0, 20000),\n                    label = label_comma(),\n                    expand = c(0,0),\n                    sec.axis = sec_axis(trans = ~./1,\n                                breaks = breaks_pretty(n = 10),\n                                name = \"Total Withdrawals in CA (Mgal/day)\\n\",\n                                labels = label_comma())) +\n                                labs(x = \"Year\",\n                                y = \"Sector Withdrawals (Mgal/day)\",\n                                caption = \"Figure 1: GroundWater Withdrawals CA 2000-2015.\",\n                                fill = \"\") +\n#It adds a border to the around the plot and removes the grid in the background\n  theme_few() +\n  theme(axis.text = element_text(color = \"black\", size = 8),\n        axis.text.y.right = element_text(color = \"darkgrey\", size = 8),\n        axis.text.y = element_text(color = \"black\", size = 8),\n        axis.text.x = element_text(color = \"black\", size = 8),\n        axis.title.y.right = element_text(color = \"darkgrey\", size = 10),\n        axis.title.y.left = element_text(color = \"black\", size = 10),\n        axis.title.x = element_text(color = \"black\", size = 10),\n        legend.position = \"top\",\n        plot.caption = element_text(hjust = 0, face = \"bold\", size = 10))\n\n\n\n\n\nGiven the results of the plot, it seems that the agriculture sector is withdrawing massive amounts of water as groundwater levels keep decreasing."
  },
  {
    "objectID": "posts/groundwater_data/index.html#future-research",
    "href": "posts/groundwater_data/index.html#future-research",
    "title": "Where is California’s Groundwater Going?",
    "section": "Future Research",
    "text": "Future Research\nGiven the limitations of the datasets, it will be interesting to look at recently collected data within the recent 10 years to see if these trends are stil continuing. Groundwater is specially important in the state of California, so further research will help how use improve water management and distribution."
  }
]